BGP Best Path Selection Algorithm
http://www.cisco.com/c/en/us/support/docs/ip/border-gateway-protocol-bgp/13753-25.html

Why Routers Ignore Paths:
 - Paths are marked “not synchronized” in "sh ip bgp longer-prefixes" output and synchronization is enabled.
 - Next hop is inaccessible or unreachable.
 - Path from eBGP neighbor has local AS in AS_PATH.
 - "bgp enforce-first-as" is set and the update doesn’t list the neighbor AS as the first AS.
 - Paths are marked “receive only” in "sh ip bgp longer-prefixes" output.
     -> sh ip bgp 192.0.2.0 255.255.255.0 longer-prefixes
     -> Polocy rejected theses routes.  However, the router stores the paths unmodified if "soft-reconfiguration inbound" is configured.
     -> neighbor 192.0.2.1 soft-reconfiguration inbound
     -> bgp soft-reconfig-backup
          -> Configure soft reconfiguration for peers that do not support the route refresh capability.

 - Routes will not be advertised to peers if they are not installed in the RIB and "bgp suppress-inactive" is configured.
 - Aggregate routes will not be advertised to peers if "as-set" is used with "aggregate-address" and one of the specific routes has the 
   community "no-export" or "no-advertise".
 - Aggregate routes will be dropped if "as-set" is used with "aggregate-address" and a receving router sees its own local AS in the AS_SET.
 - Routes will be dropped if it is dampened.
 - Backdoor routes configured with the network backdoor command are not advertised in BGP updates.
 - Route Reflectors will not reflect routes when "no bgp client-to-client reflection" is configured.
 - Route Reflectores in clusters will not reflect routes when "no bgp client-to-client reflection intra-cluster cluster-id any" is configured.
 - Routes will be discarded if the AS_PATH exceeds the "bgp maxas-limit" when configured.
 - Routes will be discarded if the number of prefixes exceeds the "neighbor maximum-prefix" when configured.
 - Routes will be discarded if the number of communities exceeds the "bgp maxcommunity-limit" when configured.
 - Routes will be discarded if the number of extended communities exceeds the "bgp maxextcommunity-limit" when configured.
 - Routes will be discarded if the number of large communities exceeds the "bgp maxlargecommunity-limit" when configured.
 - BGP-Origin AS Validation is configured and a prefix is marked as invalid, it will not be advertised, will be withdrawn from the 
   BGP routing table, will not be considered as a bestpath, and will not be considered as a candidate for multipath.
 - BGP-Origin AS Validation is configured and a prefix is marked as not found, it will only be considered for bestpath or a candidate
   for multipath if there is no alternative prefix that is marked valid.
 - In EIGRP MPLS VPN topologies, back door routes will be preferred to BGP routes via the extended cost community pre-bestpath point 
   of insertion.

Best Path Algorithm:
 Note: If extended cost community is configured for pre-bestpath point of insertion ( POI ), compare before anything else.
     -> Lowest cost community ID number is best.
     -> Then lowest cost community number is best.
     -> set extcommunity cost pre-bestpath <community-id> <cost>
     -> bgp bestpath cost-community ignore
         -> This command was intended only to assist in troubleshooting path selection.
     -> Introduced for use with EIGRP MPLS VPN PE-CE with backdoor links before EIGRP Site of Origin ( SoO ) was introduced.
     -> The pre-bestpath POI was meant to support mixed EIGRP VPN topologies with back door links.
     -> Back door links in EIGRP MPLS VPN topologies will be preferred to BGP.
     -> The BGP extended cost community carries the pre-bestpath POI, EIGRP route type, and route metric.


- Important, next hop needs to be valid!

- It’s not that difficult to remember whether higher or lower is best.  With the first two (weight and local_preference), highest is best.  
  Everything else, lowest, shortest, or oldest is best.

- If the ADD-PATH capability is used to send and receive additional paths, the best path algorithm is still used to select the best path,
  the 2nd "best" path, and the 3rd "best" path.
- If the Prefix Independent Convergence (PIC) feature is used to select a backup path, the best path algorithm is still used to select
  the best and backup paths.
- The steps below include the IOS configuration commands that can modify the default behavior of each step.


 0.  Extended cost community, pre-bestpath POI
 1.  Weight
 2.  Local_preference
 3.  Locally originated path
 3a. Accumulated Interior Gateway Protocol (AIGP)
 4.  AS_PATH
 5.  ORIGIN
 6.  multi-exit discriminator (MED)
 7.  eBGP over iBGP
 8.  IGP metric to the BGP next hop
 8a. Extended cost community, IGP POI
 9.  Multipath
 10.  Oldest route
 11.  Router-id
 12.  Cluster length
 13.  Neighbor address


 1.  Weight
     -> Highest is best.
     -> Cisco proprietary.
     -> Not actually a BGP attribute.
     -> Locally significant to the router.
     -> Range 0 to 65,535.
     -> Default is 0 for received routes.
     -> Default is 32768 for locally generated routes.

     -> neighbor 192.0.2.1 weight 40000
     -> template peer-policy LOCAL_POLICY
     ->     weight 40000
     -> address-family ipv4 unicast
     ->     neighbor 192.0.2.1 inherit peer-policy LOCAL_POLICY
     -> route-map WEIGHT permit 10
     ->     set weight 40000
     -> neighbor 192.0.2.1 route-map WEIGHT in
     -> neighbor 192.0.2.1 default-originate route-map WEIGHT in
     -> network 192.0.2.0 mask 255.255.255.0 route-map WEIGHT
         -> This works.  As does applying the route-map to the redistribute and aggregate-address commands.  But why 
            would you do this to locally originated routes since it’s only locally significant.


 2.  Local_preference
     -> Highest is best.
     -> Well-known, discretionary attribute LOCAL_PREF.
     -> Significant only in the local (internal) AS.
     -> Range 0 to 4294967295.
     -> Default 100 for every route.
     
     -> bgp default local-preference 200
        -> Change the default local-preference.
     
     -> route-map LP permit 10
     ->     set local-preference 200
     -> neighbor 192.0.2.1 route-map LP out
     -> neighbor 192.0.2.1 default-originate route-map LP
     -> redistribute eigrp 1 route-map LP
     -> redistribute ospf 1 route-map LP match internal external 1 external 2
     -> network 192.0.2.0 mask 255.255.255.0 route-map LP
     -> aggregate-address 192.0.2.0 255.255.255.252 attribute-map LP
     
     -> To clear or reset the LOCAL_PREF sent by a peer, set to the default value.
     -> route-map CLEAR_LP permit 10
     ->     set local-preference 100
     -> neighbor 192.0.2.1 route-map CLEAR_LP in


 3.  Locally originated path
     -> Locally generated routes are preferred over received routes.
     -> default-originate
          -> Configured per neighbor.
          -> neighbor 192.0.2.1 default-originate
          -> Advertise a default route to the neighbor, even if one is not currently in the RIB.
     -> default-information originate
          -> Configured per address family.
          -> Add a default route to the BGP table and advertise to all neighbors, even if one is not currently in the RIB.
     -> "network" command.
          -> network 0.0.0.0
          -> If 0.0.0.0 is present in the RIB, add to BGP table and advertise to all neighbors.
     -> aggregate-address command
          -> summary-only
          -> Advertise only the aggregate address, suppress longer prefixes.
          -> aggregate-address 10.11.0.0 255.255.0.0 summary-only
          -> The aggregate-timer is set to 30 seconds by default.  New, longer prefixes may be briefly advertised until 
             the aggregate-timer runs.
             -> The new, longer-prefix will then be withdrawn from the neighbors.
             -> If this may be a problem, such as in data centers or if the longer prefix can slip through policies or 
                filters on other routers, "bgp aggregate-timer 0".
     -> "redistribute" command.


 3a.  Accumulated Interior Gateway Protocol (AIGP)
     -> Lowest is best.
     -> Significant only in the local (internal) AS.
     -> AIGP is an optional, non-transitive attribute described in RFC 7311.
     -> Range 0 - 4294967295.
     -> AIGP path compared to AIGP path, the value of the AIGP metric is added to the metric towards the next-hop.
     -> AIGP path compared to non-AIGP path, path with AIGP attribute is preferred.
     -> Using AIGP with non-AIGP capable neighbors.
        -> AIGP can be translated to a cost community.
            -> The cost community point of insertion (POI) is specified.
                -> Pre-bestpath
                -> IGP metric
        -> AIGP can be translated to MED.
        
     -> bgp bestpath aigp ignore
        -> Do not evaluate AIGP during best path selection.
     
     -> route-map AIGP permit 10
     ->    set aigp-metric igp-metric
     ->    set aigp-metric 100
     -> neighbor 192.0.2.1 aigp
     -> neighbor 192.0.2.1 route-map AIGP out
     -> redistribute bgp 100 route-map AIGP
     -> neighbor 192.0.2.1 send-community both
     -> neighbor 192.0.2.1 aigp send cost-community 100 poi igp-cost transitive
     -> neighbor 192.0.2.1 aigp send cost-community 100 poi pre-bestpath transitive
     -> neighbor 192.0.2.1 aigp send med
     -> neighbor 192.0.2.1 path-attribute treat-as-withdraw 26 in
         -> All prefixes in the UPDATE are removed from the BGP routing table.
         -> "path-attribute treat-as-withdraw" cannot be used with most attributes.
     -> neighbor 192.0.2.1 path-attribute discard 26 in
         -> Drop the AIGP path attribute, then process the UPDATE as usual.
         -> Path-attribute discard cannot be used with most attributes.


 4.  AS_PATH
     -> Shortest is best.
     -> Significant external to AS.
     -> Range of 1 - 255 .
     -> Well-known, mandatory attribute AS_PATH.
     -> Primary purpose is to provide loop prevention for inter-AS routing.

     -> AS_SEQUENCE is an AS_PATH attribute that is an ordered list of AS numbers.

     -> AS_SET is an AS_PATH attribute that is an unordered list of AS numbers added to an aggregate route.
     -> AS_SET restores the loop avoidance that can be lost with aggregation.
     -> RFC 6472 recocmmends that AS_SET not be used except where a few "corner cases" might justify it.
     -> AS_SET should not be used with a single AS.
     -> AS_SET should not be used with reserved ( private ) AS numbers.
     -> AS_SET must always contain less specific prefixes and must never aggregate an exact match.
     -> AS_SET counts as 1 hop, no matter how many AS are in the set.
     -> aggregate-address 192.0.2.0 255.255.255.0 as-set

     -> AS_CONFED_SEQUENCE is similar to AS_SEQUENCE, but only holds confederation member AS numbers.
     -> AS_CONFED_SET is similar to AS_SET, but only holds confederation member AS numbers.
     -> AS_CONFED_SEQUENCE and AS_CONFED_SET are not included in the AS_PATH length.
     
     -> bgp bestpath as-path ignore
        -> Do not evaluate AS_PATH during best path selection.

     -> no bgp enforce-first-as
        -> Disables requirement that an update received from an eBGP peer list its AS number at the beginning of the AS_PATH.
        -> Needed with BGP route servers which is a feature designed for internet exchange (IX) operators that provides an 
           alternative to full eBGP mesh peering among the service providers who have a presence at the IX. 

     -> route-map PREPEND permit 10
     ->     set as-path prepend 100 100
     -> neighbor 192.0.2.1 route-map PREPEND out
     
     -> neighbor 192.0.2.1 local-as 99
        -> "local-as" is intended to help with BGP ASN or ISP migrations.
        -> "local-as" number must be different than the local AS and the peer AS.
        -> "local-as" will be added to the AS_PATH making it longer.

     -> neighbor 192.0.2.1 local-as 99 no-prepend
        -> "local-as" will not be added to the AS_PATH.

     -> neighbor 192.0.2.1 local-as 99 no-prepend replace-as
        -> Replace real AS with local AS in the eBGP updates.

     -> neighbor 192.0.2.1 local-as 99 no-prepend replace-as dual-as
        -> Accept either real AS or local AS from the eBGP peer.
        -> Error:  % dual-as not allowed without no-prepend/replace-as for eBGP local-as
     
     -> neighbor 192.0.2.1 remove-private-as
        -> Removes private AS numbers from AS_PATH.
        -> Will cause the AS_PATH length to decrease.

     -> neighbor 192.0.2.1 remove-private-as all replace-as
        -> Replaces private AS numbers with router's local AS number.
        -> Will retain the AS_PATH length.
     
     -> Replaces any private AS in AS_PATH with router's local AS.
     -> neighbor 192.0.2.1 as-override
        -> Replaces the AS of the customer in AS_PATH with the AS of the provider.
        -> Used in address-family ipv4 vrf VRF_NAME or address-family ipv6 vrf VRF_NAME.
     
     -> neighbor 192.0.2.1 allowas-in
        -> Accept an AS_PATH that contains the local AS.

     -> route-map TAG_SET_AS permit 10
     ->     set as-path tag
     -> neighbor 192.0.2.1 redistribute ospf 1 match internal external route-map TAG_SET_AS
        -> The AS_PATH is lost when BGP is redistributed into an IGP, however, the BGP ASN is used to set the route tag.
        -> Route tag will be used to set the AS_PATH.

     -> route-map REPLACE_AS permit 10
     ->     set as-path replace 100
     -> neighbor 192.0.2.1 route-map REPLACE_AS in
        -> Replace the AS 100 in AS_PATH with the local AS.
        -> Feature added in IOS XE 17.1.1.
        -> Note:  The AS_PATH length is not changed.
     
     -> route-map REPLACE_AS permit 10
     ->     set as-path replace any
     -> neighbor 192.0.2.1 route-map REPLACE_AS in
        -> Replace all AS listed in AS_PATH with the local AS.
        -> Note:  The AS_PATH length is not changed.
        -> An AS_PATH of 123 234 345 456 567 becomes 100 100 100 100 100.

     -> To strip the AS_PATH and replace with only the local AS, configure a locally originated path.
     -> ip route 0.0.0.0 0.0.0.0 null0 name STRIP_AS_PATH_INFORMATION
        -> Note:  Static routes to inject prefixes into BGP should point to null0, incase the a route to destination is not 
                  present or flaps.
     -> network 0.0.0.0
        -> An AS_PATH of 123 234 345 456 567 becomes 100.

     -> aggregate-address 10.11.0.0 255.255.0.0 summary-only
        -> "aggregate-address" "summary-only" command.
        -> Causes the loss of individual path attributes, such as AS_PATH, replaced only with the local AS.

     -> aggregate-address 10.11.0.0 255.255.0.0 summary-only as-set
        -> "aggregate-address" "summary-only" command with "as-set".
        -> Causes the path information from the individual paths to be retained and summarized in a set, 300 {200,100}.

     -> aggregate-address 10.11.0.0 255.255.0.0 as-set summary-only advertise-map ADV_MAP
        -> Use an "advertise-map" to select the specific routes and routing attributes to include in the aggregate route.
        -> Can be used to ensure routing attributes are not included in the aggregate route that would cause it to be dropped.
           Such as omitting an AS from the AS_SET that would be dropped by a receiving router.



 5.  ORIGIN
     -> Lowest type is best.
     -> Significant external to AS.
     -> Well-known, mandatory attribute ORIGIN.
     -> IGP is lower (better) than EGP, EGP is lower (better) than INCOMPLETE.
     -> IGP
          -> "network" command.
     -> EGP
          -> Predecessor to BGP.
          -> Historically, used to to transition from EGP to BGP.
          -> The "set origin egp" command was removed in IOS 12.4(2)T.
          -> You should never see it, take a screenshot and tell the world if you do.
     -> INCOMPLETE
          -> "redistribute" command.
          
     -> route-map ORIGIN permit 10
     ->    set origin igp
     
     -> route-map ORIGIN permit 10
     ->    set origin incomplete


 6.  multi-exit discriminator (MED)
     -> Metric
     -> Significant external to AS.
     -> Lowest is best.
     -> Optional, non-transitive attribute MULTI_EXIT_DISC.
     -> Range 0 to 4,294,967,295.
     -> Default is 0 for received routes.
        -> When MED is not assigned.
     -> Set to the value of the IGP metric for routes injected into BGP.
        -> "network" or "redistribute" commands.
     -> If the injected route is a connected route, set the MED to 0.
        -> "network" or "redistribute" commands.
     -> If the route was injected by the aggregate-address command, set the MED to 0.
        -> Used to influence a neighboring AS with multiple entry points.
        -> Or a neighboring AS may be influencing the local AS with multiple entry points.
     -> Compared only if the first AS in the AS_SEQUENCE is the same for multiple paths.
     -> Confederation sub-ASs are ignored unless configured.
     -> MED can introduce route oscillations in some environments.  BGP Additional Paths ( ADD-PATH ) can address this problem.
     
     -> bgp deterministic-med
         -> Compare routes advertised by different peers in the same AS.
     
     -> bgp always-compare-med
         -> Compare routes advertised by different ASs.
         -> If used, must be configured in the entire AS to prevent routing loops.
     
     -> bgp bestpath med confed
         -> Compare all paths that consist only of AS_CONFED_SEQUENCE.
     
     -> bgp bestpath med confed missing-as-worst
     
     -> bgp bestpath med missing-as-worst
     
     -> route-map MED permit 10
     ->     set metric 100
     
     -> route-map MED permit 10
     ->     set metric-type internal
              -> If a border router learns a route from an iBGP peer, set the metric to the IGP cost instead of removing MED 
                 from the UPDATE sent to the eBGP peer.
              -> If the route originates from IS-IS, use the internal metric.
         
     ->     set metric-type external
              -> If the route originates from IS-IS, use the external metric.
         
     ->     set metric-type type-1
              -> If the route originates from OSPF, use the external type-1 metric.
         
     ->     set metric-type type-2
              -> If the route originates from OSPF, use the external type-2 metric.

     -> neighbor 192.0.2.1 route-map MED out
     -> neighbor 192.0.2.1 default-originate route-map MED out
     -> redistribute eigrp 1 metric 100
     -> redistribute ospf 1 metric 100 match internal external 1 external 2
     -> redistribute eigrp 1 route-map MED
     -> redistribute ospf 1 route-map MED match internal external 1 external 2
     -> network 192.0.2.0 mask 255.255.255.0 route-map MED
     -> aggregate-address 192.0.2.0 255.255.255.252 attribute-map MED

     -> bgp dynamic-med-interval 60
       -> By default, BGP will change the MED value associated with a prefix and re-advertise if necessary every 600 seconds.
       -> Interval range from 60 seconds to 136 years ( 4,294,967,295 seconds ).  In other words, never update if set to max.


 7.  eBGP over iBGP
     -> Paths that contain AS_CONFED_SEQUENCE and AS_CONFED_SET are considered internal.
     -> Locally significant to the router ( Loc-RIB ).


 8.  IGP metric to the BGP next hop
     -> Lowest is best.
     -> Locally significant to the router ( Loc-RIB ).

     -> bgp bestpath igp-metric ignore
        -> "address-family" command.
        -> Must be used when the Diverse Path feature is used and the route-reflector and shadow route-reflector are not co-located.
        -> In this case, configured on the RR, shadow RR, and PE routers.


8a.  extended cost community
     -> IGP point of insertion (POI).
     -> Lowest cost community ID number is best.
     -> Then lowest cost community number is best.
     -> Locally significant to the router ( Loc-RIB ).
     -> Cost community ID number 0 to 255.
     -> Cost number range 0 to 4294967295.
     -> Default is 2147483647.
     -> Note:  Paths that do not have the extended community cost attribute are considered to have the default value by the best
        path selection process.
     -> Non-transitive extended community.
     -> Only advertised to iBGP neighbors, not eBGP neighbors.
     -> If used, must be configured in the entire AS or confederation to prevent routing loops.

     -> route-map EXTCOMMUMITYCOST permit 10
     ->    set extcommunity cost igp 1 1
     -> neighbor 192.0.2.1 send-community
     -> neighbor 192.0.2.1 route-map EXTCOMMUMITYCOST out
     -> neighbor 192.0.2.1 default-originate route-map EXTCOMMUMITYCOST out
     -> redistribute eigrp 1 route-map EXTCOMMUMITYCOST
     -> redistribute ospf 1 route-map EXTCOMMUMITYCOST match internal external 1 external 2
     -> network 192.0.2.0 mask 255.255.255.0 route-map EXTCOMMUMITYCOST
     -> aggregate-address 192.0.2.0 255.255.255.252 attribute-map EXTCOMMUMITYCOST

     -> bgp bestpath cost-community ignore
        -> This command was intended only to assist in troubleshooting path selection.

     -> Note-to-self:  This is out of place.  Need to find a new home for this.
        -> Was in the AS_PATH step, sort of fits better here because of EIGRP MPLS VPNs.
     -> Configured a site-of-origin to prevent routing loops.
     -> neighbor 192.0.2.1 soo 64496:64511
     -> route-map SOO permit 10
     ->     set extcommunity soo 64496:645111
     -> neighbor 192.0.2.1 route-map SOO in


9.  Multipath
     -Note:  Route reflectors will only advertise one best path.  To add the mutlipath capability back into a route reflector architecture, 
             one of the BGP Diverse Path Distribution solutions would need to be implemented.
        -> VPN unique RD
        -> BGP Shadow Route Reflector
        -> BGP Shadow Session
        -> BGP Best External
        -> BGP Additional Paths ( ADD-PATH )
        -> BGP Optimal Route Reflection ( ORR )
     -> Multipath only if multiple paths match the above steps.
     -> Determine if multiple paths require installation into the routing table.
     -> Default, only one best path is installed into the routing table.
     -> Even with multipath, the router still designates one of the paths as the best path and advertises this best path to it's neighbors.
        -> Unless BGP Additional Paths ( ADD-PATH ) is configured.

     -> The following needs to be equal for each prefix to multipath.
        -> Weight
        -> Local preference
        -> Received or locally originated route.
        -> Accumulated interior gateway protocol, if configured.
           -> Or "bgp bestpath aigp ignore" is configured.
        -> AS-PATH length
        -> AS-PATH
           -> Unless "bgp bestpath as-path multipath-relax" is configured.
           -> Or "bgp bestpath as-path ignore" is configured.
        -> Neighboring AS or sub-AS
        -> Origin
        -> MED
        -> eBGP or iBGP
        -> IGP metric to the BGP next hop for eBGP multipath.
           -> Learned from an external or confederation-external neighbor.
           -> The IGP metric to the BGP next hop must be equal to the best-path IGP metric.
           -> Or "bgp bestpath igp-metric ignore" is configured.
        -> IGP metric to the BGP next hop for iBGP multipath.
           -> Learned from an internal neighbor.
           -> The IGP metric to the BGP next hop must be equal to the best-path IGP metric.
              -> Unless unequal-cost iBGP multipath is configured.
              -> For unequal-cost load balancing, BGP Link Bandwidth can be used.
                 -> bgp dmzlink-bw
                 -> neighbor 192.0.2.1 dmzlink-bw
                 -> neighbor 192.0.2.1 send-community both
           -> Or "bgp bestpath igp-metric ignore" is configured.
        -> "extended cost community", if configured or in EIGRP MPLS VPN topologies.

     -> maximum-paths 2
        -> Protocol independent command for equal-costs paths.
        
     -> maximum-paths eibgp 2
        -> Install parallel iBGP and eBGP routes.
        -> Will generate the following log message:  %BGP-4-MULTIPATH_LOOP: This may cause traffic loop if not used properly (command accepted).
        
     -> maximum-paths eibgp 2 import 2
        -> Specifies the number of redundant paths configured as back up multipaths for a VRF.
        -> Will generate the follow log messages:  
           -> %NOTE: Import option has been deprecated.
           -> %      Converting to 'import path selection all; import path limit 2'.
           -> %PARSER-5-HIDDEN: Warning!!! ' maximum-paths eibgp 2 import 2 ' is a hidden command. Use of this command is not 
              recommended/supported and will be removed in future.
        
     -> maximum-paths ibgp 2
         -> Install both equal-cost and unequal-cost iBGP routes.
         
     -> maximum-paths ibgp 2 import 2
         -> Specifies the number of redundant paths configured as back up multipaths for a VRF.
         -> Will generate the follow log messages:  
            -> %NOTE: Import option has been deprecated.
            -> %      Converting to 'import path selection all; import path limit 2'.
            -> %PARSER-5-HIDDEN: Warning!!! ' maximum-paths ibgp 2 import 2 ' is a hidden command. Use of this command is not 
               recommended/supported and will be removed in future.

     -> maximum-paths ibgp unequal-cost 2
         -> Install iBGP unequal-cost routes for a VRF.
         -> Only in "address-family ipv4 vrf VRF_NAME" and "address-family ipv6 vrf VRF_NAME".
         
     -> bgp bestpath as-path mutlipath-relax
        -> Hidden command in older IOS versions.
        -> If multipath is configured and multiple routes have different AS in the path, but the AS_PATH lengths are the same (parallel paths),  
           install the multiple paths into the routing table.
           -> Solves a problem with BGP in data center CLOS networks described in RFC 7938.


 10.  Oldest route
     -> When multiple paths are external, prefer the path that was received first.
     -> Oldest is best.
     -> Locally significant to the router ( Loc-RIB ).
     -> This step can be skipped by forcing BGP to compare router-ids.
     
     -> bgp bestpath compare-router-id


 11.  Router-id
     -> Lowest is best.
     -> Locally significant to the router ( Loc-RIB ).
     -> Not the same thing as the ORIGINATOR_ID attribute, which is used by route reflectors.
     -> ORIGINATOR_ID is an optional, non-transitive attribute.
     -> ORIGINATOR_ID is compared instead of the router-id when route reflector attributes are present.


 12.  Cluster length
     -> Lowest is best
     -> Locally significant to the router ( Loc-RIB ).
     -> CLUSTER_LIST is an optional, non-transitive attribute.
     -> Lowest CLUSTER_LIST length.
     -> Router reflectors only.


 13.  Neighbor address
     -> Lowest is best.
     -> Locally significant to the router ( Loc-RIB ).
     -> Remote peer used in the TCP connection.
