! troubleshoot interface discards
sh int te1/0/3
sh int te1/0/3 | in drops:
sh policy-map int te1/0/3
sh controllers ethernet-controller tenGigabitEthernet 1/0/3
sh controllers ethernet-controller tenGigabitEthernet 1/0/3 | in Excess Defer
sh int te1/0/3 controller
sh platform hardware fed switch 1 qos queue stats interface te1/0/3
sh diagnostic events
sh diagnostic result switch 1 test 7 detail
sh platform hardware fed switch 1 fwd-asic drops exceptions asic 3
sh platform hardware fed switch 1 qos queue config interface te1/0/3
sh platform hardware fed switch 1 qos dscp-cos counters interface te1/0/3

show platform hardware fed switch 1 fwd-asic drops exceptions | ex _0_
!
conf t
 qos queue-softmax-multiplier 1200

! test etherchannel load-balancing
cat3850# sh platform software fed switch active etherchannel 101 load-balance ipv4 192.0.2.2 192.0.2.1

! this caused a 3850 to crash ( run it a couple dozen times... )
! TAC response was something along the lines of, WTF!?!?
term shell
for xx in `interface Ethernet`; do echo $xx `show int $xx controller | cut -c 1-33 | grep Excess Defer`; done

! this is the command I should have been using
sh controllers | in Gig|Excess Defer
